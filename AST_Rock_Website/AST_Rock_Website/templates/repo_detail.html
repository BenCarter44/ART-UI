

{% load static %}
{% load socialaccount %}

<!DOCTYPE HTML>
<style>
    /* CSS for centering the content within the section with class "tiles" */
    .tiles {
        display: flex;
        flex-direction: column; /* Aligns children (like ul) in a column */
        justify-content: center; /* Center vertically in the container */
        align-items: center; /* Center horizontally in the container */
        height: 100vh; /* Take the full height of the viewport */
        text-align: center; /* Center text within each block */
    }

    ul {
        list-style-type: none; /* Removes bullet points */
        padding: 0; /* Removes padding */
    }
	.tiles li {
    width: 100%; /* Full width to fill the ul element */
    display: flex;
    justify-content: flex-start; /* Aligns content to the left */
	}
</style>
<html>
    <head>
        <title>SkillScope</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="{% static 'css/main.css' %}" />
        <noscript><link rel="stylesheet" href="{% static 'css/noscript.css' %}" /></noscript>
    </head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header" class="alt">
						<a href="{% url 'index' %}" class="logo"><strong>SkillScope</strong> <span>Precision at Every Push</span></a>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<ul class="links">
							<li><a href="{% url 'index' %}" class="button primary fit">Home</a></li>
							
							
						</ul>
						<ul class="actions stacked">
							{% if user.is_authenticated %}
								<li><a href="{% url 'account_logout' %}" class="button primary fit">Log Out</a></li>
							{% else %}
								<!-- Show login link if user is not logged in -->
								<li><a href="{% url 'account_login' %}" class="button primary fit">Log In</a></li>
							{% endif %}
						</ul>
					</nav>


				<!-- Main -->
					<!-- Min -->
					<div id="main">
						<section id="one" class="tiles special">
							<h1>{{ repo_name }}</h1>
							<ul class="alt">
								{% for issue, rf_response, gpt_response in issues_responses %}
								<li>
									<strong>Issue Number:</strong> {{ issue.number }}<br>
									<strong>Open Issue:</strong> {{ issue.title }}<br>
									
									<!-- Collapsible section toggle on a new line -->
									<div>
										<a href="#!" class="button small" onclick="toggleDescription('desc{{ forloop.counter }}')">Toggle Description</a>
									</div>
									
									<div id="desc{{ forloop.counter }}" style="display: none;">
										<p>{{ issue.body }}</p>
									</div>
									
									<!-- Classification information on separate lines -->
									<div>
										<strong>Random Forest Classification:</strong> {{ rf_response }}
									</div>
									<div>
										<strong>OpenAI Classification:</strong> {{ gpt_response }}
									</div>
								</li>
								{% endfor %}
							</ul>
						</section>
					</div>

					<script>
						function toggleDescription(id) {
							var element = document.getElementById(id);
							if (element.style.display === 'none') {
								element.style.display = 'block';
							} else {
								element.style.display = 'none';
							}
						}
					</script>


			</div>

		<!-- Scripts -->
			<script src="{% static 'js/jquery.min.js' %}"></script>
			<script src="{% static 'js/jquery.scrolly.min.js' %}"></script>
			<script src="{% static 'js/jquery.scrollex.min.js' %}"></script>
			<script src="{% static 'js/browser.min.js' %}"></script>
			<script src="{% static 'js/breakpoints.min.js' %}"></script>
			<script src="{% static 'js/util.js' %}"></script>
			<script src="{% static 'js/main.js' %}"></script>

	</body>
</html>